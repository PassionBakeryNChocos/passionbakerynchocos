<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>PassionBakeryNChocos</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Diphylleia&display=swap" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Diphylleia&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Tangerine:wght@400;700&display=swap" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet" />

   
     <style>
    /* Global Styles */
    body {
        background-color: #1ef2fd;
        font-family: cursive;
        margin: 0;
        padding: 0;
    }

    h1,
    h2 {
        color: #ffd700;
        font-weight: bold;
        font-size: xxx-large;
        text-align: center;
        margin-bottom: 15px;
        font-family: Great Vibes;
        text-decoration: wavy;
    }

 /* Navigation Bar Styles */
.topnav {
overflow: hidden;
background-color: #1ef2fd;
}

.topnav a {
float: left;
display: block;
color: #11124a;
text-align: center;
padding: 14px 16px;
font-weight: bold;
text-decoration: none;
font-size: 20px;
border: 3px solid #11124a;
margin-left: 10px;
margin-top: 10px;
}

.topnav a:hover {
background-color: #0000ff;
color: floralwhite;
}

.topnav a.active {
    background-color: 	#3e476f;
    color:#FFD700 ;
}

.topnav .icon {
display: none;
}

.topnav .cart-icon {
color: #11124a; /* Match the color theme */
font-size: 20px;
padding: 14px 16px;
text-decoration: none;
border: 3px solid #11124a;
margin-left: 10px;
margin-top: 10px;
}

.topnav .cart-icon:hover {
background-color: #0000ff;
color: floralwhite;
}

@media screen and (max-width: 600px) {
.topnav a:not(:first-child) {display: none;}
.topnav a.icon {
float: right;
display: block;
}
}

@media screen and (max-width: 600px) {
.topnav.responsive {position: relative;}
.topnav.responsive .icon {
position: absolute;
right: 0;
top: 0;
}
.topnav.responsive a {
float: none;
display: block;
text-align: left;
}
}


    /* Cart Section Styles */
    .cart-section {
        margin: 20px;
        padding: 20px;
        background-color: #6266f4;
        border-radius: 8px;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }

    th,
    td {
        border: 1px solid #ccc;
        padding: 10px;
        text-align: center;
    }

    th {
        background-color: #1ef2fd;
    }

    .total-row {
        font-weight: bold;
        background-color: #ffd700;
    }

 /* Payment Methods Section Styles */
.payment-methods {
margin-top: 20px;
padding: 20px;
background-color: #6266f4;
border-radius: 8px;
text-align: center;
}

.payment-methods h3 {
color: #ffd700;
margin-bottom: 15px;
}

.payment-methods img {
width: 80px;
margin: 0 10px;
transition: transform 0.3s ease; /* Add transition for smooth scaling */
}

.payment-methods img:hover {
transform: scale(1.2); /* Scale the image to 120% on hover */
}

.payment-form {
    max-width: 800px;
    margin: 40px auto;
    padding: 20px;
    background: #6266f4;;
    border-radius: 10px;
  }


       /* Container Styles */
       .container {
            max-width: 600px;
            margin: 20px auto;
            background: #ff77ff;
            color: #11124a;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        input[type="text"],
        input[type="tel"],
        input[type="number"],
        input[type="date"],
        select,
        textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }

        input[type="file"] {
            margin-top: 5px;
        }

        

        button:hover {
            background-color: #4cae4c;
        }

        @media (max-width: 600px) {
            .container {
                padding: 15px;
            }

           
        }

        /* Modern Footer Styles */
.footer-modern {
    background-color: #0000ff;
    color: floralwhite;
    padding: 40px 20px 20px 20px;
    font-family: cursive;
    border-top: 4px solid #FFD700;
    box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.15);
    border-radius: 12px 12px 0 0;
}

.footer-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    gap: 30px;
    max-width: 1200px;
    margin: 0 auto;
}

.footer-column {
    flex: 1 1 300px;
}

.footer-column h3 {
    font-family: 'Great Vibes', cursive;
    font-size: 26px;
    color: #FFD700;
    margin-bottom: 15px;
}

.footer-column p {
    font-size: 16px;
    line-height: 1.6;
    margin: 8px 0;
}

.footer-column a {
    color: floralwhite;
    text-decoration: underline;
}

.footer-column a:hover {
    color: #FFD700;
    text-decoration: none;
}

.footer-map iframe {
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(255, 255, 255, 0.2);
}

.footer-bottom-modern {
    text-align: center;
    margin-top: 30px;
    padding-top: 15px;
    border-top: 1px solid floralwhite;
    font-size: 15px;
    color: #FFD700;
}

/* Responsive Footer */
@media (max-width: 768px) {
    .footer-container {
        flex-direction: column;
        align-items: center;
        text-align: center;
    }

    .footer-column {
        max-width: 100%;
    }

    .footer-map iframe {
        height: 250px;
    }
}
      

    </style>
</head>

<body>
    <!-- Navigation Bar -->
    <div class="topnav" id="myTopnav">
        <a href="index.html">Home</a>
        <a href="Products_cakes.html" class="active">Products</a>
        <a href="index.html">About Me</a>
        <a href="index.html">Contact Us</a>
        <a href="special_order_cake.html">Special Order</a>
        <a href="Cart_cake.html" class="cart-icon">
            <i class="fa fa-shopping-cart"></i>
            <span class="cart-count" id="cart-count">(0)</span>
        </a>
        <a href="javascript:void(0);" class="icon" onclick="myFunction()">
            <i class="fa fa-bars"></i>
        </a>
    </div>

    <img src="border top.png" style="height: 70%; width: 70%; margin-top: 20px; padding-left: 15%" />

 <!-- Cart Section -->
<div class="cart-section">
    <h2>Your Cart</h2>
    <table>
        <thead>
            <tr>
                <th>Sr No</th>
                <th>Product Name</th>
                <th>Weight</th> <!-- New Weight Column -->
                <th>Price</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="cart-table-body">
            <!-- Cart items will be populated here -->
        </tbody>
        <tfoot>
            <tr class="total-row">
                <td colspan="3">Total Amount</td>
                <td id="total-amount">‚Çπ0.00</td> <!-- Changed to ‚Çπ for consistency -->
                <td></td>
            </tr>
        </tfoot>
    </table>
    <div style="text-align: center; margin-top: 20px;">
    <button onclick="scrollToPaymentMethods()" style="background-color: #5cb85c; color: white; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer;">Checkout</button>
    </div>

</div>
</div>
    <img src="border bottom.png"
        style="height:70%; width: 70%; margin-top: 20px; padding-left: 15%; padding-bottom: 50px;">


        <img src="border top.png"
        style="height:70%; width: 70%; margin-top: 20px; padding-left: 15%; padding-bottom: 50px;">

 <!-- Payment Methods Section -->
<div class="payment-methods">
    <h3>Payment Methods</h3>
    <p style="color: floralwhite; margin-bottom: 15px;">
    For your safety, we have not embedded the payment method in this website. You can pay by the below given methods.
    </p>
    <p style="color:white; font-weight: bold; font-style: italic;"> Kindly note that paying 50% of the total amount is necessary for the order confirmation.</p>
    <button id="gpay-button" onclick="toggleUPI()" style="background-color: #5cb85c; color: white; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; display: block; margin: 10px auto;">Pay with UPI Id:</button>
    <p id="upi-id" style="color: floralwhite; display: none;">Our UPI ID: manjupathak135@okicici</p>

    <button id="paytm-button" onclick="toggleQRCode()" style="background-color: #5cb85c; color: white; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; display: block; margin: 10px auto;">Pay with Qr Code Image: </button>
    <img id="qr-code" src="qr code.jpg" alt="QR Code" style="display: none; margin-top: 20px; width: 400px; height: auto; border: 2px solid #ccc; border-radius: 10px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.2); margin-left: auto; margin-right: auto;" />

</div>

<img src="border bottom.png" style="height:70%; width: 70%; margin-top: 20px; padding-left: 15%; padding-bottom: 50px;">
<img src="border top.png" style="height:70%; width: 70%; margin-top: 20px; padding-left: 15%; padding-bottom: 50px;">

<!-- Payment Form Container -->
<div class="payment-form">
    <h2>Payment Confirmation Form:</h2>
    <p style="font-weight: bold; color: floralwhite;">
      After going through the payment using any of the above methods, kindly fill the form below for payment
      confirmation, while your order is on the way!!
    </p>
    <h1>Order Form</h1>
    <div class="container">
        <form id="order-form" onsubmit="return false;">
            <div class="form-group">
                <label for="name">1. Name of the person placing this order:</label>
                <input type="text" id="name" name="name" required>
            </div>

            <div class="form-group">
                <label for="address">2. Address of the person placing this order:</label>
                <input type="text" id="address" name="address" required>
            </div>

            <div class="form-group">
                <label for="phone">3. Phone Number of the person ordering:</label>
                <input type="tel" id="phone" name="phone" required>
            </div>

            <div class="form-group">
                <label for="different-phone">4. Different Phone Number for delivery (No or Yes):</label>
                <select id="different-phone" name="different-phone" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="no">No</option>
                    <option value="yes">Yes</option>
                </select>
                <input type="tel" id="delivery-phone" name="delivery-phone" style="display:none;" placeholder="Enter delivery phone number">
            </div>

            <div class="form-group">
                <label for="different-name">5. Different Name for delivery (No or Yes):</label>
                <select id="different-name" name="different-name" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="no">No</option>
                    <option value="yes">Yes</option>
                </select>
                <input type="text" id="delivery-name" name="delivery-name" style="display:none;" placeholder="Enter delivery name">
            </div>

            <div class="form-group">
                <label for="different-address">6. Different Address for delivery (No or Yes):</label>
                <select id="different-address" name="different-address" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="no">No</option>
                    <option value="yes">Yes</option>
                </select>
                <input type="text" id="delivery-address" name="delivery-address" style="display:none;" placeholder="Enter delivery address">
            </div>

            <div class="form-group">
                <label for="delivery-date">7. Date to be delivered:</label>
                <input type="date" id="delivery-date" name="delivery-date" required>
            </div>

            <div class="form-group">
                <label for="delivery-time">8. Time of delivery:</label>
                <input type="time" id="delivery-time" name="delivery-time" required>
            </div>

            <div class="form-group">
                <label for="cake-name">9. Name on cake:</label>
                <input type="text" id="cake-name" name="cake-name" required>
            </div>

            <div class="form-group">
                <label for="occasion">10. Occasion:</label>
                <input type="text" id="occasion" name="occasion" required>
            </div>

            <div class="form-group">
                <label for="delivery-mode">11. Mode of delivery:</label>
                <select id="delivery-mode" name="delivery-mode" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="home-delivery">Home Delivery</option>
                    <option value="pick-up">Pick Up</option>
                </select>
            </div>

            <div class="form-group">
                <label for="special-request">Any Other Request for the Special Order:</label>
                <textarea id="special-request" name="special-request"></textarea>
            </div>
    
            <button type="button" onclick="handleFormSubmission()">Submit Order via WhatsApp</button>
        </form>

    </div>
</div>

<!-- Modern Footer Section -->
<footer class="footer-modern">
  <div class="footer-container">
    <div class="footer-column">
      <h3>La Ruby Studios</h3>
      <p><strong>Store:</strong> Passion Bakery N Chocos</p>
      <p><strong>Phone:</strong> +91 98691 53017</p>
      <p><strong>Email:</strong> <a href="mailto:contact@larubystudios.com">contact@larubystudios.com</a></p>
      
    </div>

    <div class="footer-column">
      <h3>Find Us Here</h3>
      <div class="footer-map">

        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d30171.758511948356!2d72.89754131946106!3d19.043070507877562!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3be7c5de0e2b673b%3A0xf7d6a0991954d34d!2sPassionbakery%20n%20chocos!5e0!3m2!1sen!2sin!4v1748762211868!5m2!1sen!2sin" width="100%" height="200" style="border:0;" allowfullscreen="" loading="lazy"
          referrerpolicy="no-referrer-when-downgrade">
        </iframe>
      </div>
    </div>
  </div>
  <div class="footer-bottom-modern">
    <p>&copy; 2025 <strong>La Ruby Studios</strong>. All Rights Reserved.</p>
  </div>
</footer>

<script>
<!-- Script for Navigation Toggle -->
function myFunction() {
var x = document.getElementById("myTopnav");
if (x.className === "topnav") {
x.className += " responsive";
} else {
x.className = "topnav";
}
}

// Function to load cart data from local storage
const loadCartData = () => {
    return JSON.parse(localStorage.getItem("cartData")) || {};
};

// Function to update the cart table
const updateCartTable = () => {
    const cartData = loadCartData();
    const cartTableBody = document.getElementById("cart-table-body");
    cartTableBody.innerHTML = ""; // Clear existing rows
    let totalAmount = 0;
    let totalCount = 0; // Initialize total count
    let srNo = 1;

    for (const productName in cartData) {
        const product = cartData[productName];
        if (product.quantity > 0) { // Only include products with quantity > 0
            const row = document.createElement("tr");
            const productTotalPrice = (parseFloat(product.price) * product.quantity).toFixed(2); // Calculate total price for the product

            row.innerHTML = `
                <td>${srNo++}</td>
                <td>${productName}</td>
                <td>${product.weight} kg</td> <!-- Display weight -->
                <td>‚Çπ${productTotalPrice}</td> <!-- Display price in rupees -->
                <td>
                    <button onclick="removeFromCart('${productName}')">Remove</button>
                    <button onclick="increaseQuantity('${productName}')">+</button>
                    <button onclick="decreaseQuantity('${productName}')">-</button>
                </td>
            `;
            cartTableBody.appendChild(row);
            totalAmount += parseFloat(productTotalPrice); // Ensure price is parsed as float
            totalCount += product.quantity; // Update total count
        }
    }

    document.getElementById("total-amount").textContent = `‚Çπ${totalAmount.toFixed(2)}`; // Display total amount in rupees
    document.getElementById("cart-count").textContent = `(${totalCount})`; // Update cart count
};

// Function to remove an item from the cart
const removeFromCart = (productName) => {
    const cartData = loadCartData();
    delete cartData[productName];
    localStorage.setItem("cartData", JSON.stringify(cartData));
    updateCartTable();
};

// Function to increase the quantity of a product in the cart
const increaseQuantity = (productName) => {
    const cartData = loadCartData();
    if (cartData[productName]) {
        cartData[productName].quantity++;
    }
    localStorage.setItem("cartData", JSON.stringify(cartData));
    updateCartTable();
};

// Function to decrease the quantity of a product in the cart
const decreaseQuantity = (productName) => {
    const cartData = loadCartData();
    if (cartData[productName] && cartData[productName].quantity > 0) {
        cartData[productName].quantity--;
        if (cartData[productName].quantity === 0) {
            delete cartData[productName];
        }
        localStorage.setItem("cartData", JSON.stringify(cartData));
        updateCartTable();
    }
};

// Function to get cart details for payment
const getCartDetails = () => {
    const cartData = loadCartData();
    let totalAmount = 0;
    let productNames = [];

    for (const productName in cartData) {
        const product = cartData[productName];
        const productTotalPrice = parseFloat(product.price) * product.quantity;
        totalAmount += productTotalPrice;
        productNames.push(`${productName} (x${product.quantity})`);
    }

    return {
        totalAmount: totalAmount.toFixed(2),
        productNames: productNames.join(', ')
    };
};

// Initial call to populate the cart table and update the cart count
updateCartTable();


// Function to toggle visibility of delivery inputs based on Yes/No selects
function setupToggleFields() {
    const toggleMappings = [
        { selectId: 'different-phone', inputId: 'delivery-phone' },
        { selectId: 'different-name', inputId: 'delivery-name' },
        { selectId: 'different-address', inputId: 'delivery-address' },
    ];

    toggleMappings.forEach(({ selectId, inputId }) => {
        const selectElem = document.getElementById(selectId);
        const inputElem = document.getElementById(inputId);

        // Initial toggle on page load
        toggleInputVisibility(selectElem, inputElem);

        // Add event listener for changes
        selectElem.addEventListener('change', () => {
            toggleInputVisibility(selectElem, inputElem);
        });
    });
}

function toggleInputVisibility(selectElem, inputElem) {
    if (selectElem.value === 'yes') {
        inputElem.style.display = 'block';
        inputElem.setAttribute('required', 'required');
    } else {
        inputElem.style.display = 'none';
        inputElem.removeAttribute('required');
        inputElem.value = ''; // Clear input when hidden
    }
}

function handleFormSubmission() {
    try {
        const form = document.getElementById('order-form');

        // Get and trim basic customer info
        const name = form.name.value.trim();
        const address = form.address.value.trim();
        const phone = form.phone.value.trim();

        // Get the "different" selections
        const differentPhone = form['different-phone'].value;
        const differentName = form['different-name'].value;
        const differentAddress = form['different-address'].value;

        // Conditionally get delivery info if "yes" selected, else fallback to customer info
        const deliveryPhone = (differentPhone === 'yes') 
            ? form['delivery-phone'].value.trim() 
            : phone;

        const deliveryName = (differentName === 'yes') 
            ? form['delivery-name'].value.trim() 
            : name;

        const deliveryAddress = (differentAddress === 'yes') 
            ? form['delivery-address'].value.trim() 
            : address;

        // Get remaining fields
        const deliveryDate = form['delivery-date'].value.trim();
        const deliveryTime = form['delivery-time'].value.trim();
        const deliveryMode = form['delivery-mode'].value.trim();
        const cakeName = form['cake-name'].value.trim();
        const occasion = form['occasion'].value.trim();
        const specialRequest = form['special-request'].value.trim();

        // Basic validation for required fields
        if (!name || !address || !phone) {
            alert('Please fill in all required customer fields (Name, Address, Phone).');
            return;
        }

        if (differentPhone === 'yes' && !deliveryPhone) {
            alert('Please fill in the delivery phone number.');
            return;
        }

        if (differentName === 'yes' && !deliveryName) {
            alert('Please fill in the delivery name.');
            return;
        }

        if (differentAddress === 'yes' && !deliveryAddress) {
            alert('Please fill in the delivery address.');
            return;
        }

        if (!deliveryDate || !deliveryTime) {
            alert('Please select delivery date and time.');
            return;
        }

        if (!deliveryMode) {
            alert('Please select a delivery mode.');
            return;
        }

        // Phone number format validation (Indian mobile format, 10 digits)
        const phoneRegex = /^[6-9]\d{9}$/;

        if (!phoneRegex.test(phone)) {
            alert('Please enter a valid 10-digit Indian mobile number for Customer Phone.');
            return;
        }

        if (!phoneRegex.test(deliveryPhone)) {
            alert('Please enter a valid 10-digit Indian mobile number for Delivery Phone.');
            return;
        }

        // Fetch cart details (assuming this function exists)
        const cartDetails = getCartDetails();

        // Compose WhatsApp message
        const message = `*üéÇ CAKE ORDER DETAILS üéÇ*\n
*üìã Customer Information:*
üë§ Name: ${name}
üìç Address: ${address}
üìû Phone: ${phone}

*üöö Delivery Information:*
üë§ Delivery Name: ${deliveryName}
üìç Delivery Address: ${deliveryAddress}
üìû Delivery Phone: ${deliveryPhone}
üìÖ Delivery Date: ${deliveryDate}
‚è∞ Delivery Time: ${deliveryTime}
üöõ Delivery Mode: ${deliveryMode}

*üõí Order Details:*
üéÇ Products: ${cartDetails.productNames}
üí∞ Total Amount: ‚Çπ${cartDetails.totalAmount}
üè∑Ô∏è Name on Cake: ${cakeName || 'N/A'}
üéâ Occasion: ${occasion || 'N/A'}

*üí¨ Special Request:*
${specialRequest || 'None'}

*Thank you for your order! üòä*`;

        // WhatsApp number in international format without '+'
        const whatsappNumber = '919869153017';
        const encodedMessage = encodeURIComponent(message);
        const whatsappURL = `https://api.whatsapp.com/send?phone=${whatsappNumber}&text=${encodedMessage}`;

        console.log('WhatsApp URL:', whatsappURL);

        const newWindow = window.open(whatsappURL, '_blank');

        if (!newWindow || newWindow.closed || typeof newWindow.closed == 'undefined') {
            alert('Pop-up blocked! Please allow pop-ups for this website to send your order via WhatsApp.');
        } else {
            alert('Opening WhatsApp chat... If it does not open automatically, please contact us directly at ' + whatsappNumber);
        }

    } catch (error) {
        console.error('Error during WhatsApp submission:', error);
        alert('An unexpected error occurred. Please try again or contact us directly at 919869153017');
    }
}

// Initialize toggles on page load
window.addEventListener('DOMContentLoaded', setupToggleFields);


function scrollToPaymentMethods() {
    const paymentMethodsSection = document.querySelector('.payment-methods');
    paymentMethodsSection.scrollIntoView({ behavior: 'smooth' });
}

function toggleUPI() {
    const upiId = document.getElementById('upi-id');
    upiId.style.display = upiId.style.display === 'none' ? 'block' : 'none';
}

function toggleQRCode() {
    const qrCodeImage = document.getElementById('qr-code');
    qrCodeImage.style.display = qrCodeImage.style.display === 'none' ? 'block' : 'none';
}



</script>
</body>

</html>
