<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>PassionBakeryNChocos</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Diphylleia&display=swap" rel="stylesheet" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Diphylleia&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Tangerine:wght@400;700&display=swap" rel="stylesheet" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet" />

<style>
/* Global Styles */
body {
    background-color: #ffb6c1;
font-family: cursive;
margin: 0;
padding: 0;
}

h1,h2 {
color: #FFD700;
font-weight: bold;
font-size: xxx-large;
padding-top: 0%;
padding-left: 0%;
text-align: center;
margin-bottom: 15px;
font-family: Great Vibes;
text-decoration: wavy;
}

/* Navigation Bar Styles */
.topnav {
overflow: hidden;
background-color: #ffb6c1;
}

.topnav a {
float: left;
display: block;
color: #11124a;
text-align: center;
padding: 14px 16px;
font-weight: bold;
text-decoration: none;
font-size: 20px;
border: 3px solid #11124a;
margin-left: 10px;
margin-top: 10px;
}

.topnav a:hover {
    background-color: #d9537c;
    color: floralwhite;
}

.topnav a.active {
    background-color: 	#872657;
    color:#fff8dc;
}

.topnav .icon {
display: none;
}

.topnav .cart-icon {
color: #11124a; /* Match the color theme */
font-size: 20px;
padding: 14px 16px;
text-decoration: none;
border: 3px solid #11124a;
margin-left: 10px;
margin-top: 10px;
}

.topnav .cart-icon:hover {
    background-color: #d9537c;
    color: floralwhite;
}

@media screen and (max-width: 600px) {
.topnav a:not(:first-child) {
display: none;
}

.topnav a.icon {
float: right;
display: block;
}
}

@media screen and (max-width: 600px) {
.topnav.responsive {
position: relative;
}

.topnav.responsive .icon {
position: absolute;
right: 0;
top: 0;
}

.topnav.responsive a {
float: none;
display: block;
text-align: left;
}
}

/* General Reset */
* {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

.product-container {
    background-color: #7e5dae;
    padding: 20px;
border-radius: 8px;
margin-top: 20px ;
margin-bottom: 20px;
margin-left: 20px;
margin-right: 20px;

/* Added margin-top for spacing */
}

.filter-search {
display: flex;
flex-direction: column;
/* Stack elements vertically */
align-items: center;
/* Center elements horizontally */
margin-bottom: 20px;
}

.search-container,
.filter-container {
width: 100%;
/* Make them full width */
max-width: 300px;
/* Set a max width for better appearance */
margin-top: 10px;
/* Add some margin for spacing */
margin-left: 5px;
}

input[type="text"],
select {
width: 100%;
/* Make input and select full width */
padding: 10px;
/* Add some padding */
border: 1px solid #ccc;
/* Add border */
border-radius: 4px;
/* Rounded corners */
}

.product-card {
border: 1px solid #ccc;
display: inline-block;
border-radius: 8px;
padding: 20px;
margin: 10px;
width: 200px;
text-align: center;
background-color: #fff;
/* White background for the card */
box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
/* Add shadow for depth */
transition: transform 0.2s;
/* Smooth transition for hover effect */
}

.product-card:hover {
transform: scale(1.05);
/* Slightly enlarge the card on hover */
}

.product-image {
width: 100%;
/* Make image full width */
height: auto;
/* Maintain aspect ratio */
border-radius: 8px;
/* Rounded corners for the image */
}

.add-to-cart {
background-color: #28a745;
display: block;
/* Change to block to take full width */
color: white;
border: none;
padding: 10px;
cursor: pointer;
margin: 10px auto;
/* Center the button */
border-radius: 4px;
/* Rounded corners for the button */
transition: background-color 0.3s;
/* Smooth transition for hover effect */
width: 100%;
/* Make the button full width */
max-width: 150px;
/* Optional: Set a max width for the button */
}

.add-to-cart:hover {
background-color: #218838;
/* Darker green on hover */
}

.quantity-control {
display: flex;
align-items: center;
justify-content: center;
margin-top: 10px;
text-align: center;
/* Center the content */
}

.quantity {
margin: 0 10px;
}

button {
cursor: pointer;
}
</style>
</head>

<body>
<!-- Navigation Bar -->
<div class="topnav" id="myTopnav">
<a href="Gift.html">Home</a>
<a href="Products_gifts.html" class="active">Products</a>
<a href="Gift.html">About Me</a>
<a href="Gift.html">Contact Us</a>
<a href="special_order_gifts.html">Special Order</a>
<a href="Cart_gifts.html" class="cart-icon">
<i class="fa fa-shopping-cart"></i>
<span class="cart-count" id="cart-count">(0)</span>
</a>
<a href="javascript:void(0);" class="icon" onclick="myFunction()">
<i class="fa fa-bars"></i>
</a>
</div>

<img src="border top.png" style="height: 70%; width: 70%; margin-top: 20px; padding-left: 15%" />

<div class="product-container">
<div class="filter-search">
<div class="search-container">
<input type="text" id="search" placeholder="Search products..." />
</div>
<div class="filter-container">
<select id="filter">
<option value="">All Products</option>
<option value="tag1">Chocolate</option>
<option value="tag2">Vanilla</option>
<option value="tag3">Fruit</option>
</select>
</div>
</div>

<h2>Our Products </h2>
<div class="product-cards">
    <div class="product-card" data-product-id="1" data-tag="tag1">
        <img src="" alt="Chocolate Cake" class="product-image" />
        <h3>Chocolate Cake</h3>
        <p id="base-price" style="display: none;">12.00</p> <!-- Base price per kg -->
        <p>Price: ₹<span class="price">12.00</span></p>
        
        <label for="weight">Choose weight:</label>
        <select class="weight-selector">
            <option value="0.5">500g</option>
            <option value="1">1kg</option>
            <option value="1.5">1.5kg</option>
            <option value="2">2kg</option>
        </select>
        
        <div class="quantity-control" style="display: none">
            <button class="minus">-</button>
            <span class="quantity">0</span>
            <button class="plus">+</button>
        </div>
        <button class="add-to-cart">Add to Cart</button>
    </div>

    <div class="product-card" data-product-id="2" data-tag="tag1">
        <img src="" alt="Chocolate Mousse" class="product-image" />
        <h3>Chocolate Mousse</h3>
        <p id="base-price" style="display: none;">11.00</p> <!-- Base price per kg -->
        <p>Price: ₹<span class="price">11.00</span></p>
        
        <label for="weight">Choose weight:</label>
        <select class="weight-selector">
            <option value="0.5">500g</option>
            <option value="1">1kg</option>
            <option value="1.5">1.5kg</option>
            <option value="2">2kg</option>
        </select>
        
        <div class="quantity-control" style="display: none">
            <button class="minus">-</button>
            <span class="quantity">0</span>
            <button class="plus">+</button>
        </div>
        <button class="add-to-cart">Add to Cart</button>
    </div>

    <div class="product-card" data-product-id="3" data-tag="tag1">
        <img src="" alt="Chocolate Chip Cookies" class="product-image" />
        <h3>Chocolate Chip Cookies</h3>
        <p id="base-price" style="display: none;">8.00</p> <!-- Base price per kg -->
        <p>Price: ₹<span class="price">8.00</span></p>
        
        <label for="weight">Choose weight:</label>
        <select class="weight-selector">
            <option value="0.5">500g</option>
            <option value="1">1kg</option>
            <option value="1.5">1.5kg</option>
            <option value="2">2kg</option>
        </select>
        
        <div class="quantity-control" style="display: none">
            <button class="minus">-</button>
            <span class="quantity">0</span>
            <button class="plus">+</button>
        </div>
        <button class="add-to-cart">Add to Cart</button>
    </div>

    <div class="product-card" data-product-id="4" data-tag="tag2">
        <img src="" alt="Vanilla Cake" class="product-image" />
        <h3>Vanilla Cake</h3>
        <p id="base-price" style="display: none;">15.00</p> <!-- Base price per kg -->
        <p>Price: ₹<span class="price">15.00</span></p>
        
        <label for="weight">Choose weight:</label>
        <select class="weight-selector">
            <option value="0.5">500g</option>
            <option value="1">1kg</option>
            <option value="1.5">1.5kg</option>
            <option value="2">2kg</option>
        </select>
        
        <div class="quantity-control" style="display: none">
            <button class="minus">-</button>
            <span class="quantity">0</span>
            <button class="plus">+</button>
        </div>
        <button class="add-to-cart">Add to Cart</button>
    </div>

    <div class="product-card" data-product-id="5" data-tag="tag2">
        <img src="" alt="Vanilla Pudding" class="product-image" />
        <h3>Vanilla Pudding</h3>
        <p id="base-price" style="display: none;">9.00</p> <!-- Base price per kg -->
        <p>Price: ₹<span class="price">9.00</span></p>
        
        <label for="weight">Choose weight:</label>
        <select class="weight-selector">
            <option value="0.5">500g</option>
            <option value="1">1kg</option>
            <option value="1.5">1.5kg</option>
            <option value="2">2kg</option>
        </select>
        
        <div class="quantity-control" style="display: none">
            <button class="minus">-</button>
            <span class="quantity">0</span>
            <button class="plus">+</button>
        </div>
        <button class="add-to-cart">Add to Cart</button>
    </div>

    <div class="product-card" data-product-id="6" data-tag="tag2">
        <img src="" alt="Vanilla Ice Cream" class="product-image" />
        <h3>Vanilla Ice Cream</h3>
        <p id="base-price" style="display: none;">7.00</p> <!-- Base price per kg -->
        <p>Price: ₹<span class="price">7.00</span></p>
        
        <label for="weight">Choose weight:</label>
        <select class="weight-selector">
            <option value="0.5">500g</option>
            <option value="1">1kg</option>
            <option value="1.5">1.5kg</option>
            <option value="2">2kg</option>
        </select>
        
        <div class="quantity-control" style="display: none">
            <button class="minus">-</button>
            <span class="quantity">0</span>
            <button class="plus">+</button>
        </div>
        <button class="add-to-cart">Add to Cart</button>
    </div>

    <div class="product-card" data-product-id="7" data-tag="tag3">
        <img src="" alt="Fruit Tart" class="product-image" />
        <h3>Fruit Tart</h3>
        <p id="base-price" style="display: none;">11.00</p> <!-- Base price per kg -->
        <p>Price: ₹<span class="price">11.00</span></p>
        
        <label for="weight">Choose weight:</label>
        <select class="weight-selector">
            <option value="0.5">500g</option>
            <option value="1">1kg</option>
            <option value="1.5">1.5kg</option>
            <option value="2">2kg</option>
        </select>
        
        <div class="quantity-control" style="display: none">
            <button class="minus">-</button>
            <span class="quantity">0</span>
            <button class="plus">+</button>
        </div>
        <button class="add-to-cart">Add to Cart</button>
    </div>

    <div class="product-card" data-product-id="8" data-tag="tag3">
        <img src="" alt="Fruit Salad" class="product-image" />
        <h3>Fruit Salad</h3>
        <p id="base-price" style="display: none;">6.00</p> <!-- Base price per kg -->
        <p>Price: ₹<span class="price">6.00</span></p>
        
        <label for="weight">Choose weight:</label>
        <select class="weight-selector">
            <option value="0.5">500g</option>
            <option value="1">1kg</option>
            <option value="1.5">1.5kg</option>
            <option value="2">2kg</option>
        </select>
        
        <div class="quantity-control" style="display: none">
            <button class="minus">-</button>
            <span class="quantity">0</span>
            <button class="plus">+</button>
        </div>
        <button class="add-to-cart">Add to Cart</button>
    </div>

    <div class="product-card" data-product-id="9" data-tag="tag3">
        <img src="" alt="Fruit Smoothie" class="product-image" />
        <h3>Fruit Smoothie</h3>
        <p id="base-price" style="display: none;">5.00</p> <!-- Base price per kg -->
        <p>Price: ₹<span class="price">5.00</span></p>
        
        <label for="weight">Choose weight:</label>
        <select class="weight-selector">
            <option value="0.5">500g</option>
            <option value="1">1kg</option>
            <option value="1.5">1.5kg</option>
            <option value="2">2kg</option>
        </select>
        
        <div class="quantity-control" style="display: none">
            <button class="minus">-</button>
            <span class="quantity">0</span>
            <button class="plus">+</button>
        </div>
        <button class="add-to-cart">Add to Cart</button>
    </div>
</div>
</div>
<img src="border bottom.png" style="height:70%; width: 70%; margin-top: 20px; padding-left: 15%; padding-bottom: 50px;">

<script>
// Script for Navigation Toggle
function myFunction() {
    var x = document.getElementById("myTopnav");
    if (x.className === "topnav") {
        x.className += " responsive";
    } else {
        x.className = "topnav";
    }
}

let cartCount = 0;

// Load cart data from local storage
const loadCartData = () => {
    const cartData = JSON.parse(localStorage.getItem("cartData")) || {};
    return cartData;
};

// Save cart data to local storage
const saveCartData = (cartData) => {
    localStorage.setItem("cartData", JSON.stringify(cartData));
};

// Initialize cart data
let cartData = loadCartData();

document.querySelectorAll(".product-card").forEach((card) => {
    const addToCartButton = card.querySelector(".add-to-cart");
    const quantityControl = card.querySelector(".quantity-control");
    const quantityDisplay = card.querySelector(".quantity");
    const productName = card.querySelector("h3").textContent; // Get product name

    const priceText = card.querySelector("p").textContent; // Get price text
    console.log("Price Text:", priceText); // Log the price text

    // Use a regular expression to extract the numeric part of the price
    const productPrice = parseFloat(priceText.match(/[\d,.]+/)[0].replace(',', '').trim()); // Convert price to number
    console.log("Parsed Price:", productPrice); // Log the parsed price

    let quantity = cartData[productName] ? cartData[productName].quantity : 0; // Load quantity from cart data

    // Update UI based on quantity
    updateUI();

    addToCartButton.addEventListener("click", () => {
        quantity = 1;
        cartCount++;
        updateCartData();
        updateUI();
    });

    card.querySelector(".plus").addEventListener("click", () => {
        quantity++;
        cartCount++;
        updateCartData();
        updateUI();
    });

    card.querySelector(".minus").addEventListener("click", () => {
        if (quantity > 0) {
            quantity--;
            cartCount--;
            updateCartData();
            updateUI();
        }
    });

    function updateCartData() {
        // Get the selected weight and calculate the price based on it
        const weightSelector = card.querySelector(".weight-selector");
        const selectedWeight = parseFloat(weightSelector.value); // Get selected weight
        const finalPrice = (productPrice * selectedWeight).toFixed(2); // Calculate final price based on weight

        // Update cart data in local storage
        cartData[productName] = {
            price: finalPrice, // Store the calculated price as a string
            quantity: quantity,
            weight: selectedWeight // Store the selected weight
        };
        console.log("Cart Data:", cartData); // Log the cart data before saving
        saveCartData(cartData);
        document.getElementById("cart-count").textContent = `(${cartCount})`;
    }

    function updateUI() {
        quantityDisplay.textContent = quantity;
        if (quantity === 0) {
            addToCartButton.style.display = "block";
            quantityControl.style.display = "none";
        } else {
            addToCartButton.style.display = "none";
            quantityControl.style.display = "flex";
        }
    }

    // Weight selection logic
    const weightSelector = card.querySelector(".weight-selector");
    const priceDisplay = card.querySelector(".price");
    const basePrice = productPrice; // Base price per unit weight

    // Function to update price based on selected weight
    const updatePrice = () => {
        const selectedWeight = parseFloat(weightSelector.value); // Get selected weight
        const newPrice = (basePrice * selectedWeight).toFixed(2); // Calculate new price
        priceDisplay.textContent = newPrice; // Update displayed price
    };

    // Event listener for weight selection
    weightSelector.addEventListener("change", updatePrice);

    // Initialize price on load
    updatePrice();
});

// Function to filter products based on the selected category
document.getElementById("filter").addEventListener("change", function () {
    const selectedTag = this.value;
    const productCards = document.querySelectorAll(".product-card");

    productCards.forEach((card) => {
        if (selectedTag === "" || card.getAttribute("data-tag") === selectedTag) {
 card.style.display = "block"; // Show the card
        } else {
            card.style.display = "none"; // Hide the card
        }
    });
});

// Function to search products based on the input value
document.getElementById("search").addEventListener("input", function () {
    const searchTerm = this.value.toLowerCase(); // Get the search term in lowercase
    const productCards = document.querySelectorAll(".product-card");

    productCards.forEach((card) => {
        const productName = card.querySelector("h3").textContent.toLowerCase(); // Get the product name in lowercase
        if (productName.includes(searchTerm)) {
            card.style.display = "block"; // Show the card if it matches the search term
        } else {
            card.style.display = "none"; // Hide the card if it doesn't match
        }
    });
});
</script>
</body>

</html>